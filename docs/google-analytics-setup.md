# Google Analytics Setup Guide

## 1. –ü–æ–ª—É—á–µ–Ω–∏–µ Google Analytics ID

1. –ó–∞–π–¥–∏—Ç–µ –≤ [Google Analytics](https://analytics.google.com/)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç –∏–ª–∏ –≤–æ–π–¥–∏—Ç–µ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ (Property) –¥–ª—è –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞
4. –í—ã–±–µ—Ä–∏—Ç–µ "Web" –∫–∞–∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Measurement ID** (—Ñ–æ—Ä–º–∞—Ç: `G-XXXXXXXXXX`)

## 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.local` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
# Google Analytics
NEXT_PUBLIC_GA_TRACKING_ID=G-XXXXXXXXXX
```

**‚ö†Ô∏è –í–∞–∂–Ω–æ**: –ó–∞–º–µ–Ω–∏—Ç–µ `G-XXXXXXXXXX` –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π Measurement ID.

## 3. –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

‚úÖ **Google Analytics —Å–∫—Ä–∏–ø—Ç—ã** –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ `app/layout.tsx`
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç—Ä–µ–∫–∏–Ω–≥ —Å—Ç—Ä–∞–Ω–∏—Ü** —á–µ—Ä–µ–∑ `GoogleAnalyticsProvider`
‚úÖ **–£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ç—Ä–µ–∫–∏–Ω–≥–∞** –≤ `lib/gtag.ts`

## 4. –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ç—Ä–µ–∫–∏–Ω–≥–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç—Ä–µ–∫–∏–Ω–≥
- ‚úÖ **–ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ **–ü–æ–∏—Å–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –≤ —á–∞—Ç–µ** - –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ **–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤** - –ø—Ä–∏ –∫–ª–∏–∫–µ "Reserve"
- ‚úÖ **–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π** - –ø—Ä–∏ –∫–ª–∏–∫–µ "Book"

### –†—É—á–Ω–æ–π —Ç—Ä–µ–∫–∏–Ω–≥ (–¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏)

```typescript
import { trackBooking, trackSearch, trackMapInteraction, event } from '@/lib/gtag'

// –¢—Ä–µ–∫–∏–Ω–≥ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
trackBooking('hotel', 'Hotel Name')
trackBooking('restaurant', 'Restaurant Name') 
trackBooking('activity', 'Activity Name')

// –¢—Ä–µ–∫–∏–Ω–≥ –ø–æ–∏—Å–∫–∞
trackSearch('hotels in Paris', 'hotel')

// –¢—Ä–µ–∫–∏–Ω–≥ –∫–∞—Ä—Ç—ã
trackMapInteraction('open')
trackMapInteraction('close')
trackMapInteraction('marker_click')

// –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
event({
  action: 'click',
  category: 'button',
  label: 'header-login',
  value: 1
})
```

## 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. **–û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ**
2. **–û—Ç–∫—Ä–æ–π—Ç–µ DevTools** (F12)
3. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É Console**
4. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏—è** (–ø–æ–∏—Å–∫, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–µ—Ä–µ—Ö–æ–¥—ã)
5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Google Analytics** (–¥–∞–Ω–Ω—ã–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ 24-48 —á–∞—Å–æ–≤)

### –î–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **Google Analytics DebugView**
- –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ **Google Analytics Debugger**

## 6. –°–æ–±—ã—Ç–∏—è –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è

| –°–æ–±—ã—Ç–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã |
|---------|----------|-----------|
| `page_view` | –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã | `page_path`, `page_title` |
| `search` | –ü–æ–∏—Å–∫ –≤ —á–∞—Ç–µ | `search_term`, `category: 'chat'` |
| `booking` | –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ | `category: 'hotel/restaurant/activity'`, `item_name` |
| `map_interaction` | –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –∫–∞—Ä—Ç–æ–π | `action: 'open/close/marker_click'` |

## 7. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –î–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ:
```typescript
// –í .env.local
NEXT_PUBLIC_GA_TRACKING_ID=  # –û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º
```

### –î–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏:
```typescript
// –í lib/gtag.ts –¥–æ–±–∞–≤—å—Ç–µ:
gtag('config', GA_TRACKING_ID, {
  page_path: url,
  anonymize_ip: true,        // –ê–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è IP
  send_page_view: false      // –û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ—Å–º–æ—Ç—Ä—ã
})
```

## 8. Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –°–æ–±—ã—Ç–∏—è –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å `GA_TRACKING_ID`
- ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `NEXT_PUBLIC_`
- ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ dev —Å–µ—Ä–≤–µ—Ä –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è .env

### –ü—Ä–æ–±–ª–µ–º–∞: –î–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ GA
- ‚è±Ô∏è –ü–æ–¥–æ–∂–¥–∏—Ç–µ 24-48 —á–∞—Å–æ–≤ –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤
- üîç –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ DebugView –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- üß™ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ —Ä–µ–∂–∏–º–µ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ

### –ü—Ä–æ–±–ª–µ–º–∞: Console –æ—à–∏–±–∫–∏
- üîß –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ gtag –∑–∞–≥—Ä—É–∂–µ–Ω –¥–æ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–π
- üîß –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ (`"use client"`)

## 9. –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Google Analytics Dashboard](https://analytics.google.com/)
- [GA4 Event Reference](https://developers.google.com/analytics/devguides/collection/ga4/events)
- [Next.js Analytics Guide](https://nextjs.org/docs/app/building-your-application/optimizing/analytics) 